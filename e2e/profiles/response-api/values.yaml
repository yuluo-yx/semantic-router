# Response API E2E Test Profile Values
replicaCount: 1

image:
  repository: ghcr.io/vllm-project/semantic-router/extproc
  tag: latest
  pullPolicy: Never

config:
  # Disable unrelated features for deterministic Response API tests.
  bert_model:
    model_id: ""
    threshold: 0.6
    use_cpu: true

  semantic_cache:
    enabled: false
    backend_type: "memory"
    similarity_threshold: 0.8
    max_entries: 1000
    ttl_seconds: 3600
    eviction_policy: "fifo"

  tools:
    enabled: false
    top_k: 3
    similarity_threshold: 0.2
    tools_db_path: "config/tools_db.json"
    fallback_to_empty: true

  prompt_guard:
    enabled: false
    use_modernbert: false
    model_id: ""
    threshold: 0.7
    use_cpu: true
    jailbreak_mapping_path: ""

  classifier:
    category_model:
      model_id: ""
      use_modernbert: false
      threshold: 0.6
      use_cpu: true
      category_mapping_path: ""
    pii_model:
      model_id: ""
      threshold: 0.7
      use_cpu: true
      pii_mapping_path: ""

  response_api:
    enabled: true
    store_backend: "memory"
    ttl_seconds: 86400
    max_responses: 1000

  api:
    batch_classification:
      max_batch_size: 100
      concurrency_threshold: 5
      max_concurrency: 8
      metrics:
        enabled: true
        detailed_goroutine_tracking: false
        high_resolution_timing: false
        sample_rate: 1.0

  observability:
    tracing:
      enabled: false

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi
